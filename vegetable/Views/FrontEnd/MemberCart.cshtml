
@{
    ViewBag.Title = "MemberCard";
    Layout = "~/Views/Shared/_LayoutFrontEnd.cshtml";
}

<style>
    nav.navBar--sub ul.navBar-section li.navBar-item.is-active a {
        background: #fff;
        position: relative;
        text-decoration: none !important;
    }



    nav.navBar--sub ul.navBar-section li.navBar-item a {
        font-size: 13px;
        font-weight: 700;
        display: block;
        display: table-cell;
        padding: 15px 30px 3px;
        transition: background .3s ease 0s;
        vertical-align: middle;
        letter-spacing: .1em;
        text-transform: uppercase;
        color: #000;
        border: 1px solid #e5e5e5;
        background: #f7f8f9;
        text-decoration: none !important;
        float: left;
        height: 51.6px;
    }

    .navBar-section {
        list-style-type: none;
    }


    .btn.btn-checkout, .btn.btn-checkout:hover {
        border-color: #000;
        background: #000;
    }

    .btn.btn-checkout {
        max-width: 270px;
        padding-top: 10px;
        color: #fff;
    }

    .form-input, .form-select {
        border-style: solid;
        border-width: 1px;
        font-family: inherit;
        margin: 0;
        font-size: 1rem;
        width: 100%;
        height: 42px;
        padding: 0px;
        transition: border-color .1s ease-out;
        background-color: #fff;
        border-color: #dcdcdc;
        color: #454545;
        max-width: none;
    }

    .page-heading {
        font-size: 24px;
    }

    .alert {
        padding: 10px 30px 1px 25px;
        margin-top: 40px;
        margin-bottom: 160px;
        border-radius: 1px;
        background-color: #d9edf7;
        border-color: #bce8f1;
        color: #31708f;
    }

    ul {
        padding-left: 0px;
    }

    .container_page {
        margin: 0 auto;
        padding-bottom: 80px;
        border-top: 1px solid #eaeaea;
    }




    /*nav bar*/
    #container_page_nav {
        background-color: #f7f8f9;
        padding: 20px 0 15px 15px;
        margin-top: 15px;
        margin-bottom: 36px;
    }

    .breadcrumb {
        background-color: #f7f8f9;
        padding: 0;
        margin: 0;
    }

    .breadcrumb-item {
        display: inline-block;
        padding-right: 10px;
    }

        .breadcrumb-item::before {
            content: ">" !important;
            color: #b4b4b4 !important;
            margin: 0 12px 0 3px;
        }

        .breadcrumb-item:first-child::before {
            display: none;
        }

        .breadcrumb-item a {
            color: #b4b4b4;
        }

            .breadcrumb-item a:hover {
                color: #000;
                /*border-bottom: 1px solid #000;*/
            }

        .breadcrumb-item.active a:hover {
            color: #b4b4b4;
        }













    #container_page_nav {
        background-color: #f7f8f9;
        padding: 20px 0 15px 15px;
        margin-top: 15px;
        margin-bottom: 36px;
    }

    .breadcrumb {
        background-color: #f7f8f9;
        padding: 0;
        margin: 0;
    }

    .breadcrumb-item {
        display: inline-block;
        padding-right: 10px;
    }

        .breadcrumb-item::before {
            content: ">" !important;
            color: #b4b4b4 !important;
            margin: 0 12px 0 3px;
        }

        .breadcrumb-item:first-child::before {
            display: none;
        }

        .breadcrumb-item a {
            color: #b4b4b4;
        }

            .breadcrumb-item a:hover {
                color: #000;
                /*border-bottom: 1px solid #000;*/
            }

        .breadcrumb-item.active a:hover {
            color: #b4b4b4;
        }

    /* 目前有幾個item*/
    #currentItem {
        font-weight: 400;
        color: #a0a0a0;
        font-size: 18px;
        letter-spacing: .05em;
    }

    /*cart header*/
    #cart-header {
        font-weight: 700;
        min-height: 41px;
        padding: 10px 0 12px;
        letter-spacing: .15em;
        text-transform: uppercase;
        color: #000;
        border-bottom: 3px solid #000;
    }

    .btn-size {
        border: 1px solid #dedede;
    }

    #quantity {
        width: 68px;
        height: 42px;
    }

    .btn-red {
        outline: 1px solid red;
        color: red;
    }

    /*產品圖片*/
    #productImg {
        display: inline-block;
        /*height: auto;*/
        max-width: 100%;
    }

    /*訂單明細標籤*/
    .cart-label {
        font-size: 14px;
        float: left;
        padding: 24px 0;
        color: #000;
        border-bottom: solid 1px;
    }

    /*灰色底線*/
    .border-bottom-grey {
        border-bottom: 1px solid #dedede;
    }

    /*結帳按鈕*/
    .btn-checkout {
        padding-top: 10px;
        color: #fff;
    }

        .btn-checkout,
        .btn-checkout:hover {
            border-color: #000 !important;
            background: #000 !important;
        }
</style>



<div id="container_page_nav">
    <div class="container">
        <!-- 要塞目錄資料及連結資料   開頭-->
        <!-- 動態綁定有a標籤href及text屬性 -->
        <ul class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="@Url.Action("Index", "FrontEnd")">Home</a>
            </li>
            <li class="breadcrumb-item">
                <a href="@Url.Action("MemberPageOrder", "FrontEnd")">Member</a>
            </li>
            <li class="breadcrumb-item">
                <a href="@Url.Action("MemberCart", "FrontEnd")"> Cart</a>
            </li>

        </ul>
        <!-- 要塞目錄資料及連結資料   結尾-->
    </div>
</div>



<div class="container">
    <div class="row">
        <div class="col-12">
            <h1 class="page-heading" style="font-weight:600;">Cart</h1>

            <nav class="navBar navBar--sub navBar--account">
                <ul class="navBar-section">
                    <li class="navBar-item is-active">
                        <a class="navBar-action" href="/FrontEnd/MemberPageOrder">Orders</a>
                    </li>
                    <li class="navBar-item is-active">
                        <a class="navBar-action" href="/Cart">Cart</a>
                    </li>
                    <li class="navBar-item is-active">
                        <a class="navBar-action" href="/FrontEnd/MemberPageWishlist">Wish List </a>
                    </li>
                    <li class="navBar-item is-active">
                        <a class="navBar-action" href="/FrontEnd/MemberPageSetting">Account Settings</a>
                    </li>

                </ul>
            </nav>
        </div>
    </div>






    <div class="container">




        @* 購物車title *@
        <div class="row" id="cart-header">
            <div class="col-5"> ITEMS </div>
            <div class="col-2 text-center"> PRICE </div>
            <div class="col-3 text-center"> QUANTITY</div>
            <div class="col-2 text-right"> TOTAL</div>
        </div>

        @* 購物車內容 *@
        <div class="row my-5">
            <div class="col-5 p-0">
                <div class="row">
                    @* 圖片 *@
                    <div class="col-5">
                        <img id="productImg" src="~/Content/images/Product/p1.jpg" alt="Product img" />
                    </div>
                    @* 名稱 大小 *@
                    <div class="col-7">
                        <div>Tie and Knot Ring</div>
                        <div class="mt-3">Size: 6</div>
                        <div class="mt-2">
                            <button type="button" class="btn btn-outline-dark rounded-0 btn-size mr-2">6</button>
                            <button type="button" class="btn btn-outline-dark rounded-0 btn-size mr-2">7</button>
                            <button type="button" class="btn btn-outline-dark rounded-0 btn-size">8</button>
                        </div>
                    </div>
                </div>
            </div>
            @* 價格 *@
            <div class="col-2 text-center mt-3"> $16.00 </div>
            @* 數量 *@
            <div class="col-3 text-center">
                @* 增加 *@
                <button id="quantityAdd" type="button" class="btn btn-outline-dark rounded-0 btn-size"><i class="fas fa-chevron-up"></i></button>
                <input id="quantity" value="1" class="text-center" />
                @* 減少 *@
                <button id="quantityReduce" type="button" class="btn btn-outline-dark rounded-0 btn-size mr-2"><i class="fas fa-chevron-down"></i></button>
            </div>
            <div class="col-2 text-right mt-3">
                $16.00
                <button class=" btn btn-red"><i class="fas fa-times text-center rounded-0"></i></button>
            </div>
        </div>
        <div class="row">
            <hr class="col-12" />
        </div>
        @* 訂單細節 *@
        <div class="row mb-5">
            <div class="offset-6 col-6 p-0">
                <div class="row">
                    <div class="col-6 text-left cart-label border-bottom-grey">Subtotal:</div>
                    <div class="col-6 text-right cart-label border-bottom-grey">$32.00</div>
                </div>
                <div class="row">
                    <div class="col-6 text-left cart-label border-bottom-grey">Shipping:</div>
                    <div class="col-6 text-right cart-label border-bottom-grey">Address</div>
                </div>
                <div class="row">
                    <div class="col-6 text-left cart-label border-bottom-grey">Discount:</div>
                    <div class="col-6 text-right cart-label border-bottom-grey">-$9.60</div>
                </div>
                <div class="row">
                    <div class="col-6 text-left cart-label border-bottom-grey">Grand total:</div>
                    <div class="col-6 text-right cart-label border-bottom-grey">$22.40</div>
                </div>
                <div class="row mt-3">
                    <div class="col-12 p-0">
                        <button class="btn btn-checkout rounded-0 mw-100 w-100">PROCEED TO CHECKOUT</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

@section viewJquery{
    <script>
        $( function () {
            //隱藏Shipping and Returns
            $( '#SAndR' ).hide();
            //隱藏問題跟回顧表格
            $( '#questionForm' ).hide();
            $( '#reviewForm' ).hide();
            //問題跟回顧表格按鈕
            $( '#btn-review' ).click( FormStatus );
            $( '#btn-question' ).click( FormStatus );
            //控制購買數量按鈕
            $( '#quantityAdd' ).click( QuantityChange );
            $( '#quantityReduce' ).click( QuantityChange );
            //產品細節切換
            $( '#btn-detail' ).click( DetailSwitch );
            $( '#btn-SAndR' ).click( DetailSwitch );
            //切換產品大圖
            $( '.thumbnail' ).click( PicChange );
            //產品卡片
            $( ".card-figure" ).hover( function () {
                $( this ).find( ".btnWL" ).addClass( "showdown" );
                $( this ).find( ".btnQV" ).addClass( "hoverin" );
                $( this ).find( ".btnATC" ).addClass( "hoverin" );
            }, function () {
                $( this ).find( ".btnWL" ).removeClass( "showdown" );
                $( this ).find( ".btnQV" ).removeClass( "hoverin" );
                $( this ).find( ".btnATC" ).removeClass( "hoverin" );
            } )
        } );

        function GetBtnId( btn ) {
            //取得傳入btn的id
            let btnId = $( btn ).attr( 'id' );
            return btnId;
        }

        //增加購買數量
        function QuantityChange() {
            let btnId = GetBtnId( this );
            //取得目前顯示數量
            var quant = $( '#quantity' ).val();
            if ( btnId == 'quantityReduce' && quant > 1 ) {
                quant--;
            } else if ( btnId == 'quantityAdd' ) {
                quant++;
            }
            $( '#quantity' ).val( quant );
        }

        //產品細節和Q&A切換
        function DetailSwitch() {
            let btnId = GetBtnId( this );
            if ( btnId == 'btn-detail' ) {
                $( '#detail' ).show();
                $( '#SAndR' ).hide();
            } else {
                $( '#detail' ).hide();
                $( '#SAndR' ).show();
            }
        }

        //切換產品大圖
        function PicChange() {
            console.log( this );
            // 大小圖片的src
            let smallSrc = $( this ).attr( 'src' );
            let largeSrc = $( '#LargePic' ).attr( 'src' );
            if ( smallSrc != largeSrc ) {
                $( '#LargePic' ).attr( 'src', smallSrc );
            }
        }

        //切換問題和回顧表格
        //bool 表示現在顯示的是哪種表格
        var question = false;
        var review = false;
        function FormStatus() {
            let btnId = GetBtnId( this );
            if ( btnId == "btn-question" && question == false ) {
                question = true;
                review = false;
            } else if ( btnId == "btn-question" && question == true ) {
                question = false;
            } else if ( btnId == "btn-review" && review == false ) {
                question = false;
                review = true;
            } else if ( btnId == "btn-review" && review == true ) {
                review = false;
            }
            FormSwitch( question, review );
        }

        //切換表格顯示
        function FormSwitch( question, review ) {
            $( '#questionForm' ).hide();
            $( '#reviewForm' ).hide();
            $( '#defaultReview' ).hide();
            if ( question ) {
                $( '#questionForm' ).show();
            } else if ( review ) {
                $( '#reviewForm' ).show();
            } else {
                $( '#defaultReview' ).show();
            }
        }

    </script>
}
